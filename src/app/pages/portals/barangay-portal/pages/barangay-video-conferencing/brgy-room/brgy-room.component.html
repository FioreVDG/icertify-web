<div class="grid" style="overflow: hidden" *ngIf="!joinRoom">
  <div class="col-12">
    <div class="grid pt-3 pr-3">
      <div class="col-12 header-wrapper">
        <div class="name-container">
          <div class="info">
            <h3>{{ sender.firstName }} {{ sender.lastName }}</h3>
          </div>
          <mat-icon color="primary">account_circle</mat-icon>
        </div>
      </div>
    </div>
    <div class="main-content">
      <div class="left">
        <small *ngIf="btnDisabled" style="color: red">{{ msg }}</small>
        <small *ngIf="!btnDisabled" style="color: green">{{ msg }}</small>
        <div *ngIf="locked" class="vid-wrapper"></div>
        <webcam
          class="cam"
          [width]="850"
          [height]="850"
          [allowCameraSwitch]="false"
          (initError)="handleInitError($event)"
          *ngIf="!locked"
        ></webcam>
        <p style="margin-bottom: 0">
          Your Transaction Reference Code: <b>{{ data.obj.refCode }}</b>
        </p>
        <small style="display: block">Your que: {{ data.obj.que }}</small>
      </div>
      <div class="right">
        <div *ngIf="currentRoomDetails">
          <h3 class="text-center">
            {{ currentRoomDetails._notaryId.firstName }}
            {{ currentRoomDetails._notaryId.lastName }}
          </h3>
          <p class="text-center">
            Ongoing meeting with Transaction Ref code:
            <b>{{ currentRoomDetails.currentTransaction.refCode }}</b>
          </p>
          <p class="text-center">
            Current que: <b>{{ currentRoomDetails.que }}</b>
          </p>
        </div>
        <div *ngIf="!currentRoomDetails">
          <p>No one is inside.</p>
        </div>
        <button
          mat-flat-button
          color="primary"
          [disabled]="btnDisabled"
          (click)="joinMeeting()"
          class="btn-join"
        >
          JOIN NOW
        </button>
      </div>
    </div>
    <button (click)="onClose()" mat-button color="primary">
      <mat-icon>arrow_back</mat-icon>&nbsp;Back
    </button>
  </div>
</div>
<div *ngIf="joinRoom" class="grid main-container">
  <div class="col-12">
    <app-rt-video
      [channelName]="currentScheduleId"
      [details]="details"
    ></app-rt-video>
  </div>
</div>
