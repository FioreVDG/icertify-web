<div class="btn-section" *ngIf="filterButtonConfig">
  <button
    mat-raised-button
    *ngFor="let btn of filterButtonConfig; let i = index"
    [color]="btn.selected ? 'primary' : ''"
    (click)="onFilterButtonClick(btn.label)"
  >
    {{ btn.label }}
  </button>
</div>
<div class="search-section">
  <mat-form-field class="search-area" appearance="outline">
    <input
      class="search-area"
      matInput
      type="text"
      placeholder="Search"
      [(ngModel)]="keyword"
      (keyup.enter)="onTriggerSearch()"
    />
    <mat-icon matSuffix>search</mat-icon>
  </mat-form-field>
</div>
<div class="table-responsive" *ngIf="!loading">
  <table mat-table [dataSource]="dataSource">
    <ng-container matColumnDef="select" *ngIf="checkBox">
      <th mat-header-cell class="pr-2" *matHeaderCellDef>
        <mat-checkbox
          [indeterminate]="
            checkedRows.hasValue() &&
            dataSource.length !== checkedRows.selected.length
          "
          [checked]="
            checkedRows.hasValue() &&
            dataSource.length === checkedRows.selected.length
          "
          (click)="$event.stopPropagation()"
          (change)="$event ? checkAll() : null"
        >
        </mat-checkbox>
      </th>
      <td
        mat-cell
        *matCellDef="let row"
        class="pr-2"
        (click)="$event.stopPropagation()"
      >
        <span>
          <mat-checkbox
            [checked]="checkedRows.isSelected(row)"
            (click)="$event.stopPropagation()"
            (change)="$event ? onCheckBoxChange(row) : null"
          >
          </mat-checkbox>
        </span>
      </td>
    </ng-container>
    <ng-container *ngFor="let col of columns">
      <ng-container matColumnDef="{{ col.path }}">
        <th mat-header-cell class="pr-2" *matHeaderCellDef mat-sort-header>
          {{ col.title }}
        </th>
        <td mat-cell *matCellDef="let element" (click)="rowClick(element)">
          <span *ngIf="col.type !== 'special'"
            >{{ col.path === "mobileNumber" ? "(+63)" : ""
            }}{{ util.deepFind(element, col.path) }}</span
          >

          <ng-container *ngIf="col.type === 'special'">
            <span *ngFor="let c of col.paths"
              >{{ util.deepFind(element, c) | uppercase }}
            </span></ng-container
          >
        </td>
      </ng-container>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr
      mat-row
      *matRowDef="let row; columns: displayedColumns; let i = index"
    ></tr>
    <tr class="mat-row" *ngIf="dataSource.length">
      <td class="mat-cell" style="text-align: center" colspan="9999">
        No Records Found
      </td>
    </tr>
  </table>
  <mat-paginator
    [length]="dataLength"
    [pageSize]="pagination.pageSize"
    [pageIndex]="pagination.pageIndex - 1"
    [pageSizeOptions]="[5, 10, 15, 25, 50]"
    showFirstLastButtons
    (page)="onClickPagination($event)"
  >
  </mat-paginator>
</div>
